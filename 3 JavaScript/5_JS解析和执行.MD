## 5_JS解析和执行

### 1 JS的解析过程

对于代码的全局处理：总体分为预处理和执行两个阶段
- 1 预处理阶段：
	- 读取分析整个源代码，创建词法环境（全局为`window`对象）
	- 先扫描函数声明（**声明方式声明的**），再扫描变量声明(`var`)
	- 将扫描到的函数和变量保存到词法环境中
	- 注：
		- 变量的值声明为`undefined`，函数的值则为引用，指向该函数
		- 命名冲突处理：
			- 处理函数声明有冲突时，后者会覆盖
			- 处理变量声明有冲突时，会忽略
			- 混合时，按CSS权重理解，函数权重更大

- 2 执行阶段：
	- 从上到下依次执行，碰到全局词法下有的覆盖其值，没有的则加入全局词法

对于函数代码的处理：基本类似代码的全局处理
- 1 预处理阶段：
	- 读取分析整体代码，创建词法环境，将函数的**参数**添加至词法环境
	- 先扫描内部函数的声明，再扫描变量声明（`var`）
	- 将扫描到的函数和变量保存到词法环境中
- 2 执行阶段：同上


